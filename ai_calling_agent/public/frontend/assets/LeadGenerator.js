var U=Object.defineProperty,z=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var S=(v,s,o)=>s in v?U(v,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[s]=o,B=(v,s)=>{for(var o in s||(s={}))E.call(s,o)&&S(v,o,s[o]);if(N)for(var o of N(s))G.call(s,o)&&S(v,o,s[o]);return v},D=(v,s)=>z(v,O(s));var A=(v,s,o)=>new Promise((b,p)=>{var d=h=>{try{i(o.next(h))}catch(y){p(y)}},k=h=>{try{i(o.throw(h))}catch(y){p(y)}},i=h=>h.done?b(h.value):Promise.resolve(h.value).then(d,k);i((o=o.apply(v,s)).next())});import{d as w,N as J,v as H,c as K,e as g,f as e,u as t,x as C,w as u,B as x,i as F,g as n,O as V,_ as f,F as P,h as $,t as _,D as Y,l as m,o as c,I as q,L as Q}from"./vendor.js";const W={class:"flex flex-col h-full"},X=e("div",{class:"px-8 py-6 border-b border-gray-100 bg-white"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"Lead Generator"),e("p",{class:"text-sm text-gray-500 mt-1"}," Search millions of verified B2B contacts using Apollo.io integration. ")],-1),Z={class:"flex flex-1 overflow-hidden bg-gray-50"},ee={class:"w-80 bg-white border-r border-gray-200 flex flex-col overflow-y-auto p-6"},te={class:"flex items-center justify-between mb-6"},se=e("h2",{class:"font-semibold text-gray-900"},"Filters",-1),ae=m(" Clear All "),le={class:"space-y-6"},oe={class:"pt-4"},ie=m(" Find Leads "),ne={class:"flex-1 overflow-y-auto p-8 relative"},de={key:0,class:"h-full flex flex-col items-center justify-center text-center opacity-60"},re={class:"bg-white p-4 rounded-full shadow-sm mb-4"},ce=e("h3",{class:"text-lg font-medium text-gray-900"},"No leads to show",-1),ue=e("p",{class:"text-gray-500 max-w-sm mt-2"}," Enter your target criteria in the filters panel to start searching. ",-1),ve={key:1,class:"space-y-4"},_e=Q('<div class="flex items-center gap-4"><div class="h-12 w-12 bg-gray-200 rounded-full"></div><div class="space-y-2 flex-1"><div class="h-4 bg-gray-200 rounded w-1/4"></div><div class="h-3 bg-gray-200 rounded w-1/3"></div></div></div>',1),ge=[_e],he={key:2,class:"flex flex-col h-full"},fe={class:"flex justify-between items-center mb-4"},me={class:"font-bold text-gray-800"},pe=m(" Search Results "),xe={class:"ml-2 px-2 py-0.5 bg-gray-200 text-gray-600 rounded-full text-xs"},ye={class:"flex items-center gap-2"},be={class:"text-sm text-gray-500"},we={class:"space-y-4 pb-20"},Fe=["onClick"],ke={class:"flex justify-between items-start"},Ce={class:"flex gap-4"},je={class:"h-12 w-12 rounded-full bg-[#4318FF]/10 flex items-center justify-center text-[#4318FF] font-bold text-lg"},Ve={class:"flex items-center gap-2"},Le={class:"font-bold text-gray-900 text-lg group-hover:text-[#4318FF] transition-colors"},Ne=m("Saved"),Se={class:"text-gray-600 font-medium mt-0.5"},Be={class:"flex items-center gap-4 mt-3 text-sm text-gray-500"},De={key:0,class:"flex items-center gap-1.5"},Ae={key:1,class:"flex items-center gap-1.5"},Pe=e("h3",{class:"text-xl font-bold"},"Lead Details",-1),$e={key:0,class:"mt-4"},Ie={class:"flex items-center gap-4 mb-6"},Me={class:"h-16 w-16 rounded-full bg-[#4318FF]/10 flex items-center justify-center text-[#4318FF] text-2xl font-bold"},Re={class:"text-2xl font-bold text-gray-900"},Te={class:"text-lg text-gray-600"},Ue={class:"grid grid-cols-2 gap-6 bg-gray-50 p-6 rounded-lg border border-gray-100"},ze=e("label",{class:"text-xs font-bold text-gray-500 uppercase"},"Company",-1),Oe={class:"text-gray-900 font-medium mt-1"},Ee=e("label",{class:"text-xs font-bold text-gray-500 uppercase"},"Location",-1),Ge={class:"text-gray-900 font-medium mt-1"},Je={class:"mt-6 p-4 bg-[#4318FF]/5 border border-[#4318FF]/10 rounded text-sm text-[#4318FF] flex items-start gap-2"},He=e("span",null,'Clicking "Reveal & Save" will use 1 credit to fetch verified contact info and add this person to your CRM.',-1),Ke=m("Close"),Ye=m(" Reveal & Save "),qe=m(" Already Saved "),Xe={setup(v){const s=w({job_title:"",location:"",industry:""}),o=w(1),b=w(null),p=w(!1),d=w(null);J(()=>{document.title="Lead Generator"});const k=H(()=>s.value.job_title||s.value.location||s.value.industry),i=K({url:"ai_calling_agent.api.search_apollo_leads",makeParams(r){return{job_title:s.value.job_title,location:s.value.location,industry:s.value.industry,page:o.value,per_page:10}},onSuccess(r){return r.map(l=>D(B({},l),{is_saved:!1}))}});function h(){!k.value||(o.value=1,i.fetch())}function y(r){o.value+=r,i.fetch()}function I(){s.value={job_title:"",location:"",industry:""},o.value=1,i.reset()}function M(r){d.value=r,p.value=!0}function L(r){return r?r.split(" ").map(l=>l[0]).join("").toUpperCase().slice(0,2):"?"}function R(r){return A(this,null,function*(){b.value=r.id;try{const l=yield fetch("/api/method/ai_calling_agent.api.save_apollo_lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apollo_id:r.id})}),a=yield l.json();l.ok?(r.is_saved=!0,d.value&&d.value.id===r.id&&(d.value.is_saved=!0)):alert(a.message||"Failed to save lead")}catch(l){console.error(l),alert("An error occurred")}finally{b.value=null}})}return(r,l)=>(c(),g("div",W,[X,e("div",Z,[e("div",ee,[e("div",te,[se,t(k)?(c(),C(t(x),{key:0,variant:"ghost",class:"text-xs text-[#4318FF] hover:text-[#3311CC]",onClick:I},{default:u(()=>[ae]),_:1})):F("",!0)]),e("div",le,[n(t(V),{label:"Job Title",modelValue:s.value.job_title,"onUpdate:modelValue":l[0]||(l[0]=a=>s.value.job_title=a),type:"text",placeholder:"e.g. CEO, Marketing Manager",disabled:t(i).loading},null,8,["modelValue","disabled"]),n(t(V),{label:"Location",modelValue:s.value.location,"onUpdate:modelValue":l[1]||(l[1]=a=>s.value.location=a),type:"text",placeholder:"e.g. Mumbai, New York",disabled:t(i).loading},null,8,["modelValue","disabled"]),n(t(V),{label:"Industry / Keywords",modelValue:s.value.industry,"onUpdate:modelValue":l[2]||(l[2]=a=>s.value.industry=a),type:"text",placeholder:"e.g. Software, Healthcare",disabled:t(i).loading},null,8,["modelValue","disabled"]),e("div",oe,[n(t(x),{variant:"solid",class:"w-full justify-center py-2 !bg-[#4318FF] hover:!bg-[#3311CC] !text-white border-transparent transition-colors",size:"lg",loading:t(i).loading,onClick:h},{prefix:u(()=>[n(t(f),{name:"search",class:"h-4 w-4"})]),default:u(()=>[ie]),_:1},8,["loading"])])])]),e("div",ne,[!t(i).data&&!t(i).loading?(c(),g("div",de,[e("div",re,[n(t(f),{name:"users",class:"h-8 w-8 text-gray-400"})]),ce,ue])):t(i).loading?(c(),g("div",ve,[(c(),g(P,null,$(3,a=>e("div",{key:a,class:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm animate-pulse"},ge)),64))])):(c(),g("div",he,[e("div",fe,[e("h3",me,[pe,e("span",xe," Page "+_(o.value),1)]),e("div",ye,[n(t(x),{variant:"outline",size:"sm",disabled:o.value===1||t(i).loading,onClick:l[3]||(l[3]=a=>y(-1))},{default:u(()=>[n(t(f),{name:"chevron-left",class:"h-4 w-4"})]),_:1},8,["disabled"]),e("span",be,"Page "+_(o.value),1),n(t(x),{variant:"outline",size:"sm",disabled:!t(i).data||t(i).data.length<10||t(i).loading,onClick:l[4]||(l[4]=a=>y(1))},{default:u(()=>[n(t(f),{name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["disabled"])])]),e("div",we,[(c(!0),g(P,null,$(t(i).data,a=>(c(),g("div",{key:a.id,onClick:j=>M(a),class:"group bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md hover:border-[#4318FF]/30 transition-all duration-200 cursor-pointer"},[e("div",ke,[e("div",Ce,[e("div",je,_(L(a.name)),1),e("div",null,[e("div",Ve,[e("h4",Le,_(a.name),1),a.is_saved?(c(),C(t(q),{key:0,theme:"green",variant:"subtle"},{default:u(()=>[Ne]),_:1})):F("",!0)]),e("div",Se,_(a.title||"No Title"),1),e("div",Be,[a.company?(c(),g("div",De,[n(t(f),{name:"briefcase",class:"h-3.5 w-3.5"}),m(" "+_(a.company),1)])):F("",!0),a.location?(c(),g("div",Ae,[n(t(f),{name:"map-pin",class:"h-3.5 w-3.5"}),m(" "+_(a.location),1)])):F("",!0)])])]),n(t(f),{name:"chevron-right",class:"text-gray-300 group-hover:text-[#4318FF] h-5 w-5 mt-4"})])],8,Fe))),128))])]))])]),n(t(Y),{modelValue:p.value,"onUpdate:modelValue":l[7]||(l[7]=a=>p.value=a),options:{size:"xl"}},{"body-title":u(()=>[Pe]),"body-content":u(()=>[d.value?(c(),g("div",$e,[e("div",Ie,[e("div",Me,_(L(d.value.name)),1),e("div",null,[e("h2",Re,_(d.value.name),1),e("p",Te,_(d.value.title),1)])]),e("div",Ue,[e("div",null,[ze,e("div",Oe,_(d.value.company||"N/A"),1)]),e("div",null,[Ee,e("div",Ge,_(d.value.location||"N/A"),1)])]),e("div",Je,[n(t(f),{name:"info",class:"h-4 w-4 mt-0.5 flex-shrink-0"}),He])])):F("",!0)]),actions:u(()=>{var a,j;return[n(t(x),{variant:"subtle",onClick:l[5]||(l[5]=T=>p.value=!1)},{default:u(()=>[Ke]),_:1}),((a=d.value)==null?void 0:a.is_saved)?(c(),C(t(x),{key:1,variant:"outline",theme:"green",disabled:""},{prefix:u(()=>[n(t(f),{name:"check",class:"h-4 w-4"})]),default:u(()=>[qe]),_:1})):(c(),C(t(x),{key:0,variant:"solid",class:"!bg-[#4318FF] hover:!bg-[#3311CC] !text-white border-transparent",loading:b.value===((j=d.value)==null?void 0:j.id),onClick:l[6]||(l[6]=T=>R(d.value))},{default:u(()=>[Ye]),_:1},8,["loading"]))]}),_:1},8,["modelValue"])]))}};export{Xe as default};
