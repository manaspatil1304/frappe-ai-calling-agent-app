var _=(c,t,o)=>new Promise((r,e)=>{var a=n=>{try{p(o.next(n))}catch(w){e(w)}},i=n=>{try{p(o.throw(n))}catch(w){e(w)}},p=n=>n.done?r(n.value):Promise.resolve(n.value).then(a,i);p((o=o.apply(c,t)).next())});import{r as j,c as A,a as B,b as O,d as P,u,e as m,f as s,n as d,g as h,_ as x,F as R,h as T,t as y,i as k,j as V,k as C,o as f,w as D,l as E,m as $,s as S,p as N,B as z,q}from"./vendor.js";const H=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(e){if(e.ep)return;e.ep=!0;const a=o(e);fetch(e.href,a)}};H();const G="modulepreload",F={},U="/ai_calling_agent/",g=function(t,o){return!o||o.length===0?t():Promise.all(o.map(r=>{if(r=`${U}${r}`,r in F)return;F[r]=!0;const e=r.endsWith(".css"),a=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${a}`))return;const i=document.createElement("link");if(i.rel=e?"stylesheet":G,e||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),e)return new Promise((p,n)=>{i.addEventListener("load",p),i.addEventListener("error",n)})})).then(()=>t())},l=j({login:null,logout:null,user:null,isLoggedIn:!1}),L=A({url:"frappe.auth.get_logged_user",cache:"User",auto:!0,onSuccess(c){l.user=c,l.isLoggedIn=!0,window.location.pathname==="/frontend/login"&&v.push("/")},onError(){l.user=null,l.isLoggedIn=!1,window.location.pathname!=="/frontend/login"&&v.push("/login")}});l.login=(c,t)=>_(void 0,null,function*(){try{const o=yield fetch("/api/method/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usr:c,pwd:t})}),r=yield o.json();if(!o.ok)throw new Error(r.message||"Login Failed");if(r.message==="Logged In")return L.reload(),"Logged In"}catch(o){throw o}});l.logout=()=>_(void 0,null,function*(){yield fetch("/api/method/logout"),L.reset(),l.user=null,l.isLoggedIn=!1,v.push("/login")});const W=[{path:"/",name:"Home",component:()=>g(()=>import("./Home.js"),["assets/Home.js","assets/vendor.js","assets/vendor.css"]),meta:{title:"Dashboard"}},{path:"/contacts",name:"Contacts",component:()=>g(()=>import("./Contacts.js"),["assets/Contacts.js","assets/Contacts.css","assets/vendor.js","assets/vendor.css"]),meta:{title:"Contacts"}},{path:"/call-logs",name:"CallLogs",component:()=>g(()=>import("./CallLogs.js"),["assets/CallLogs.js","assets/vendor.js","assets/vendor.css"]),meta:{title:"Call Logs"}},{path:"/login",name:"Login",component:()=>g(()=>import("./Login.js"),["assets/Login.js","assets/vendor.js","assets/vendor.css"]),meta:{title:"Login"}},{path:"/lead-generator",name:"LeadGenerator",component:()=>g(()=>import("./LeadGenerator.js"),["assets/LeadGenerator.js","assets/vendor.js","assets/vendor.css"]),meta:{requiresAuth:!0}},{path:"/bulk-calling",name:"BulkCalling",component:()=>g(()=>import("./BulkCalling.js"),["assets/BulkCalling.js","assets/vendor.js","assets/vendor.css"])},{path:"/bulk-emailing",name:"BulkEmailing",component:()=>g(()=>import("./BulkEmailing.js"),["assets/BulkEmailing.js","assets/vendor.js","assets/vendor.css"])}];let I=B({history:O("/ai_calling_agent"),routes:W});I.beforeEach((c,t,o)=>_(void 0,null,function*(){const r="AI Agent";document.title=c.meta.title?`${c.meta.title} - ${r}`:r,l.isLoggedIn;try{yield L.promise}catch(a){}const e=l.isLoggedIn;c.name==="Login"&&e?o({name:"Home"}):c.name!=="Login"&&!e?o({name:"Login"}):o()}));var v=I;const J={key:0,class:"flex h-screen w-full bg-gray-50"},K={class:"flex items-center overflow-hidden whitespace-nowrap"},M={class:"w-8 h-8 bg-[#4318FF] rounded-lg flex-shrink-0 flex items-center justify-center shadow-sm transition-all"},Q={class:"flex-1 p-3 space-y-1"},X={key:0,class:"absolute left-full ml-6 bg-gray-900 text-white text-xs px-3 py-1.5 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-50 whitespace-nowrap pointer-events-none"},Y=s("div",{class:"absolute top-1/2 -left-1 -mt-1 border-4 border-transparent border-r-gray-900"},null,-1),Z={class:"p-4 border-t border-gray-200 overflow-hidden bg-white z-20"},ee={class:"w-8 h-8 rounded-full bg-[#4318FF]/10 border border-[#4318FF]/20 flex items-center justify-center text-xs font-bold text-[#4318FF] flex-shrink-0"},te={class:"text-sm font-medium text-gray-700 truncate"},oe=s("p",{class:"text-xs text-gray-400 group-hover:text-[#4318FF]"},"Log out",-1),re={key:0,class:"absolute left-full ml-6 bg-gray-900 text-white text-xs px-3 py-1.5 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-50 whitespace-nowrap pointer-events-none"},ae=E(" Log out "),ne=s("div",{class:"absolute top-1/2 -left-1 -mt-1 border-4 border-transparent border-r-gray-900"},null,-1),se=[ae,ne],le={class:"flex-1 overflow-auto bg-white"},ie={key:1,class:"h-screen w-full"},ce={setup(c){V();const t=P(!1);function o(){t.value=!t.value}const r=[{name:"Home",path:"/",label:"Dashboard",icon:"home"},{name:"LeadGenerator",path:"/lead-generator",label:"Lead Generator",icon:"search"},{name:"Contacts",path:"/contacts",label:"Contacts",icon:"users"},{name:"BulkCalling",path:"/bulk-calling",label:"Bulk Calling",icon:"layers"},{name:"BulkEmailing",path:"/bulk-emailing",label:"Bulk Emailing",icon:"mail"},{name:"CallLogs",path:"/call-logs",label:"Call Logs",icon:"phone"}];return(e,a)=>{const i=C("router-link"),p=C("router-view");return u(l).isLoggedIn?(f(),m("div",J,[s("div",{class:d(["flex-shrink-0 bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out relative z-20",t.value?"w-20":"w-64"])},[s("div",{class:d(["h-16 flex items-center border-b border-gray-100 relative bg-white z-20",t.value?"justify-center px-0":"justify-between px-5"])},[s("div",K,[s("div",M,[h(u(x),{name:"cpu",class:"w-5 h-5 text-white"})]),s("span",{class:d(["ml-3 text-lg font-bold text-gray-900 tracking-tight transition-opacity duration-200",t.value?"opacity-0 w-0 hidden":"opacity-100"])}," AI Agent ",2)]),s("button",{onClick:o,class:d(["p-1.5 rounded-md text-gray-400 hover:text-[#4318FF] hover:bg-[#4318FF]/5 transition-colors",t.value?"absolute inset-0 w-full h-full flex items-center justify-center opacity-0 hover:opacity-100 z-10":""]),title:"Toggle Sidebar"},[h(u(x),{name:"sidebar",class:"w-4 h-4"})],2)],2),s("nav",Q,[(f(),m(R,null,T(r,n=>h(i,{key:n.name,to:n.path,class:d(["flex items-center px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 group whitespace-nowrap relative",[e.$route.path===n.path?"bg-[#4318FF]/10 text-[#4318FF] shadow-none":"text-gray-600 hover:bg-gray-50 hover:text-gray-900",t.value?"justify-center":""]])},{default:D(()=>[h(u(x),{name:n.icon,class:d(["w-5 h-5 transition-colors flex-shrink-0",[e.$route.path===n.path?"text-[#4318FF]":"text-gray-400 group-hover:text-gray-600",t.value?"":"mr-3"]])},null,8,["name","class"]),s("span",{class:d(["transition-all duration-200 overflow-hidden",t.value?"w-0 opacity-0":"w-auto opacity-100"])},y(n.label),3),t.value?(f(),m("div",X,[E(y(n.label)+" ",1),Y])):k("",!0)]),_:2},1032,["to","class"])),64))]),s("div",Z,[s("button",{class:d(["flex items-center w-full hover:bg-gray-50 p-2 rounded-md transition-colors whitespace-nowrap relative group",t.value?"justify-center":""]),onClick:a[0]||(a[0]=(...n)=>u(l).logout&&u(l).logout(...n))},[s("div",ee,y(u(l).user?u(l).user.substring(0,2).toUpperCase():"U"),1),s("div",{class:d(["ml-3 text-left overflow-hidden transition-all duration-200",t.value?"w-0 opacity-0 hidden":"w-auto opacity-100 block"])},[s("p",te,y(u(l).user),1),oe],2),t.value?(f(),m("div",re,se)):k("",!0)],2)])],2),s("div",le,[h(p)])])):(f(),m("div",ie,[h(p)]))}}};let b=$(ce);S("resourceFetcher",q);b.use(v);b.use(N);b.component("Button",z);b.mount("#app");export{l as s};
